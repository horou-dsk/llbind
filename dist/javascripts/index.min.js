"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(t,e,r,n){n&&(t=copyObj(t)),r=r||this;for(var o in t)if(!t.hasOwnProperty(o)||0==e.call(r,t[o],o))break}function r(t,e,r,n,o,i,a,l){v.push({elem:t,last:e,reg:r,cureg:n,obj:o,key:i,get:a,set:l,setLast:function(){var t=v[this.index+1];t&&t.cureg===this.cureg&&t.elem===this.elem&&(t.last=this.last,t.setLast())},index:v.length})}function n(t){var e=f.$scope.$$watchers,r=void 0,n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;r=s.get(),r!==s.last&&t!==s.elem&&s.set(r)}}catch(t){o=!0,i=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}}function o(t){for(var r=t.childNodes,n=(f.$scope.$$watchers,void 0),a=void 0,l=/(?={{).+}}/,s=void 0,v=void 0,y=0;y<r.length;y++)switch(n=r[y],n.nodeType){case u:a=n.textContent,l.test(a)&&(n.textContent=i(a,n));break;case c:e(n.attributes,function(t){a=t.value,l.test(a)&&(s=t.name,v=i(a,n,s),n.setAttribute(s,v))}),o(n);break;default:o(n)}}function i(t,e,n){var o=t.match(/(?={{)(.+?)}}/g),l=void 0,f=void 0,v=t,y=!0,d=!1,h=void 0;try{for(var p,b=o[Symbol.iterator]();!(y=(p=b.next()).done);y=!0){var m=p.value;l=m.match(/[^{^}]+/)[0],f=a(l)||"",e&&r(e,f,v,m,s(l),n,function(){var t=this.obj;return t.obj[t.key]},function(t){var e=this.elem,r=i(this.reg);switch(e.nodeType){case u:e.textContent=r;break;case c:e.setAttribute(this.key,r)}this.last=t,this.setLast()}),t=t.replace(m,f)}}catch(t){d=!0,h=t}finally{try{!y&&b.return&&b.return()}finally{if(d)throw h}}return t}function a(t){if("string"!=typeof t)return null;var e=t.split("."),r=f.$scope[e[0]];for(var n in e){if(void 0===r||null===r)return null;n>0&&(r=r[e[n]])}return r||""}function l(t,e){if("string"!=typeof t)return null;var r=t.split("."),n=f.$scope[r[0]];if("object"!==(void 0===n?"undefined":_typeof(n)))return f.$scope[r[0]]=e,!0;for(var o in r)if(o>0){var i=n[r[o]];if("object"!==(void 0===i?"undefined":_typeof(i)))return n[r[o]]=e,!0;n=i}return!1}function s(t){if("string"!=typeof t)return null;var e=t.split("."),r=void 0,n=f.$scope[e[0]];if("object"!==(void 0===n?"undefined":_typeof(n)))return{obj:f.$scope,key:e[0]};for(var o in e)if(o>0){if(r=n[e[o]],"object"!==(void 0===r?"undefined":_typeof(r)))return{obj:n,key:e[o]};n=r}return null}var u=3,c=1,f={$bind:function(){this.$event(),this.$lmodel()},$event:function(){var t=this;e(document.querySelectorAll("[levent]"),function(e){var r=e.getAttribute("levent").split("&"),o=!0,i=!1,l=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)!function(){var r=s.value,o=r.split(":")[0].split("~"),i=r.split(":")[1],l=i.match(/([\w\d]+)\(/)[1],u=i.match(/\(([^\)]+)\)/);u&&(u=u[1].split(",")),e.removeAttribute("levent");var c=!0,f=!1,v=void 0;try{for(var y,d=o[Symbol.iterator]();!(c=(y=d.next()).done);c=!0){var h=y.value;e.addEventListener(h,function(e){for(var r in u){var o=u[r];if("$event"!==o)if(isNaN(parseInt(o)))if(/^['"]/.test(o))u[r]=o.replace(/^['"]/,"").replace(/['"]$/,"");else{var i=a(o);i&&(u[r]=i)}else u[r]=parseInt(o);else u[r]=e}var s=t.$scope[l].apply(this,u);return n(this),s})}}catch(t){f=!0,v=t}finally{try{!c&&d.return&&d.return()}finally{if(f)throw v}}}()}catch(t){i=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw l}}})},$lmodel:function(){var t=document.querySelectorAll("[lmodel]"),r=(this.$elems.inps,this.$scope.$$watchers);e(t,function(t){var e=t.getAttribute("lmodel");r.push({last:t.value=a(e),elem:t,reg:e,obj:s(e),get:function(){var t=this.obj;return t.obj[t.key]},set:function(t){this.last=this.elem.value=t}}),t.addEventListener("input",function(){l(e,this.value);var t=Date.now();n(this),console.log(Date.now()-t)})})},$scope:{$$watchers:[]},$elems:{texts:[],inps:[],attrs:[]}},v=f.$scope.$$watchers;t.bootEach=function(t){o(t),f.$bind()},t.lbind=f,t.eachTexts=n}(window);