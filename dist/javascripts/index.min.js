"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(t){var n={};for(var r in t)if(isArray(t[r])){n[r]=[];for(var o in t[r])n[r].push(t[r][o])}else t.hasOwnProperty(r)&&(n[r]="object"==_typeof(t[r])?e(t[r]):t[r]);return n}function n(t,n,r,o){o&&(t=e(t)),r=r||this;for(var i in t)if(!t.hasOwnProperty(i)||0==n.call(r,t[i],i))break}function r(t,e,n,r,o,i,s,a){v.push({elem:t,last:e,reg:n,cureg:r,obj:o,key:i,get:s,set:a,setLast:function(){var t=v[this.index+1];if(t&&t.cureg===this.cureg&&t.elem===this.elem)return t.last=this.last,t.setLast()},index:v.length})}function o(t){var e=f.$scope.$$watchers,r=void 0;n(e,function(e){(r=e.get())!==e.last&&t!==e.elem&&e.set(r)})}function i(t){var e=t.childNodes,r=(f.$scope.$$watchers,void 0),o=/(?={{).+}}/,a=void 0,l=void 0;n(e,function(t){switch(t.nodeType){case u:r=t.textContent,o.test(r)&&(t.textContent=s(r,t));break;case c:n(t.attributes,function(e){r=e.value,o.test(r)&&(a=e.name,l=s(r,t,a),t.setAttribute(a,l))}),i(t);break;default:i(t)}})}function s(t,e,o){var i=t.match(/(?={{)(.+?)}}/g),f=void 0,v=void 0,h=t;return n(i,function(n){f=n.match(/[^{^}]+/)[0],v=a(f)||"",e&&r(e,v,h,n,l(f),o,function(){var t=this.obj;return t.obj[t.key]},function(t){var e=this.elem,n=s(this.reg);switch(e.nodeType){case u:e.textContent=n;break;case c:e.setAttribute(this.key,n)}this.last=t,this.setLast()}),t=t.replace(n,v)}),t}function a(t){if("string"!=typeof t)return null;var e=t.split("."),r=/([^\[]+)\[(\d)\]/,o=f.$scope;return n(e,function(t,e){var n=t.match(r);if(void 0===(o=n?o[n[1]][n[2]]:o[t])||null===o)return null}),o||""}function l(t){if("string"!=typeof t)return null;var e=t.split("."),r=null,o=/([^\[]+)\[(\d)\]/,i=e.length,s=f.$scope;return n(e,function(t,e){var n=t.match(o);if(n){if(e==i-1)return r={obj:s[n[1]],key:n[2]},!1;s=s[n[1]][n[2]]}else{if(e==i-1)return r={obj:s,key:t},!1;s=s[t]}}),r}var u=3,c=1,f={$bind:function(){this.$event(),this.$lmodel()},$event:function(){var t=this;n(document.querySelectorAll("[levent]"),function(e){var n=e.getAttribute("levent").split("&"),r=!0,i=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(r=(l=u.next()).done);r=!0)!function(){var n=l.value,r=n.split(":")[0].split("~"),i=n.split(":")[1],s=i.match(/([\w\d]+)\(/)[1],u=i.match(/\(([^\)]+)\)/);u&&(u=u[1].split(",")),e.removeAttribute("levent");var c=!0,f=!1,v=void 0;try{for(var h,p=r[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var y=h.value;e.addEventListener(y,function(e){for(var n in u){var r=u[n];if("$event"!==r)if(isNaN(parseInt(r)))if(/^['"]/.test(r))u[n]=r.replace(/^['"]/,"").replace(/['"]$/,"");else{var i=a(r);i&&(u[n]=i)}else u[n]=parseInt(r);else u[n]=e}var l=t.$scope[s].apply(this,u);return o(this),l})}}catch(t){f=!0,v=t}finally{try{!c&&p.return&&p.return()}finally{if(f)throw v}}}()}catch(t){i=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw s}}})},$lmodel:function(){var t=document.querySelectorAll("[lmodel]"),e=(this.$elems.inps,this.$scope.$$watchers);n(t,function(t){var n=t.getAttribute("lmodel"),r=l(n);console.log(r),e.push({last:t.value=a(n),elem:t,reg:n,obj:r,get:function(){var t=this.obj;return t.obj[t.key]},set:function(t){this.last=this.elem.value=t}}),t.addEventListener("input",function(){r.obj[r.key]=this.value;var t=Date.now();o(this),console.log(Date.now()-t)})})},$lFor:function(){},$scope:{$$watchers:[]},$elems:{texts:[],inps:[],attrs:[]}},v=f.$scope.$$watchers;t.bootEach=function(t){i(t),f.$bind()},t.lbind=f,t.eachTexts=o}(window);